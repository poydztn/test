<main class="container pb-5">
    <!-- Error Alert -->
    <div *ngIf="errorMessage" class="error-alert animate-fade-in-up mb-4">
        <span>Error:</span>
        <span>{{ errorMessage }}</span>
        <button class="btn btn-sm btn-link text-danger ms-auto" (click)="clearError()">Dismiss</button>
    </div>

    <!-- Step 1: Method Selection -->
    <app-method-selection [methods]="deliveryMethods" [loading]="loadingMethods" [selectedMethod]="selectedMethod"
        (selectedMethodChange)="onMethodSelect($event)">
    </app-method-selection>

    <!-- Step 2: Slot Selection -->
    <div *ngIf="selectedMethod">
        <app-time-slot-selection [selectedMethod]="selectedMethod" [timeSlots]="timeSlots" [selectedDate]="selectedDate"
            (dateChange)="onDateSelect($event)" (reserveSlot)="onReserveSlot($event)">
        </app-time-slot-selection>
    </div>

    <!-- Step 3: Confirmation -->
    <div *ngIf="reservation">
        <app-confirmation [reservation]="reservation" (restart)="startOver()">
        </app-confirmation>
    </div>
</main>